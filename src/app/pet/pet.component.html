<section class="content-header">
    <h1>
        <i class="fa fa-heart"></i> ข้อมูลสัตว์เลี้ยง
        <small>Version 2.0</small>
    </h1>
    <ol class="breadcrumb">
        <li>
            <a routerLink=""><i class=" fa fa-dashboard "></i> Home</a></li>
        <li class="active ">Dashboard</li>
    </ol>
</section>


<section class="content ">
    <div class="box box-success">
        <div class="box-header with-border">
            <h3 class="box-title"><i class="fa fa-heart"></i></h3>

            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
        </button>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="col-lg-4-md-4 col-sm-6">
                    <div class="form-group">
                        <label>เจ้าของ</label>
                        <div class="input-group">
                            <input class="form-control" name="customer.name" [(ngModel)]="customer.name" />
                            <a class="btn input-group-addon bg-green" data-toggle="modal" data-target="#modalCustomer">
                                <i class="fa fa-search"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6">
                    <div class="form-group">
                        <label>ชื่อสัตว์เลี้ยง</label>
                        <input class="form-control" name="pet.name" [(ngModel)]="pet.name" />
                    </div>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-6">
                    <div class="form-group">
                        <label>หมายเหตุ</label>
                        <input class="form-control" name="pet.remark" [(ngModel)]="pet.remark" />
                    </div>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-6">
                    <div class="form-group text-center">
                        <a class="btn btn-success " (click)="save()">
                            <i class="fa fa-check "></i> บันทึก
                        </a>
                    </div>
                </div>

            </div>


            <div class="box-body">
                <div class="table-responsive">
                    <table class="table no-margin">
                        <thead>
                            <tr>
                                <th width="100px"></th>
                                <th>เจ้าของ</th>
                                <th>ชื่อ</th>
                                <th>หมายเหตุ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of pets">
                                <td class="text-center">
                                    <a class="btn btn-danger" (click)="deletePet(item)">
                                        <i class="fa fa-times"></i>
                                    </a>&nbsp;
                                    <a class="btn btn-success" (click)="editPet(item)">
                                        <i class="fa fa-pencil"></i>
                                    </a>
                                </td>
                                <td>{{ item.customer[0].name }}</td>
                                <td>{{ item.name }}</td>
                                <td>{{ item.remark }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>



        </div>
    </div>

    <div class="modal fade" id="modalCustomer" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-success">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title"><i class="fa fa-pencil"></i> ข้อมูลลูกค้า</h4>
                </div>

                <div class="modal-body ">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th width="100px"></th>
                                <th>code</th>
                                <th>ชื่อ</th>
                                <th>เบอร์โทรศัพท์</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of customers">
                                <td>
                                    <a data-dismiss="modal" (click)="chooseCustomer(item)" class="btn btn-success">
                                        <i class="fa fa-check"></i> เลือก
                                    </a>
                                </td>
                                <td>{{ item.code }}</td>
                                <td>{{ item.name }}</td>
                                <td>{{ item.tel }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
</section>